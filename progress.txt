TASK-001: Implement GeminiEngine adapter in src/gralph/engines/gemini.py

Status: COMPLETED

Changes:
- Created src/gralph/engines/gemini.py — GeminiEngine adapter with:
  - build_cmd(): builds gemini CLI command with -p prompt and --output-format json
  - parse_output(): parses JSON response/result/text fields, supports both usage and usageMetadata token formats
  - run_sync(): overrides base to pass prompt via stdin (avoids command-line length limits)
  - run_async(): overrides base to pass prompt via stdin
  - check_available(): checks for gemini binary in PATH
- Updated src/gralph/engines/registry.py — added GeminiEngine to get_engine() and ENGINE_NAMES
- Updated src/gralph/cli.py — added --gemini CLI flag, banner display, and PRD skill path
- Updated tests/test_engines.py — added TestGeminiEngine class with 10 tests covering all methods

TASK-002: Register gemini engine in registry and add --gemini CLI flag

Status: COMPLETED

Changes:
- src/gralph/engines/registry.py:
  - Import GeminiEngine (line 9)
  - Added case "gemini": return GeminiEngine() in get_engine() match (lines 24-25)
  - Added "gemini" to ENGINE_NAMES tuple (line 30)
- src/gralph/cli.py:
  - Added @click.option("--gemini", "engine", flag_value="gemini", help="Use Gemini CLI") (line 54)
- tests/test_engines.py:
  - Added ("gemini", GeminiEngine) to TestEngineRegistry parametrize (line 28)
- Verified: get_engine("gemini") returns GeminiEngine instance
- Verified: all 31 gemini engine tests pass

TASK-003: Add stdin prompt passthrough for long prompts and Windows in GeminiEngine

Status: COMPLETED

Changes:
- Updated src/gralph/engines/gemini.py:
  - Added platform import and _STDIN_THRESHOLD constant (8000 chars)
  - build_cmd() now accepts use_stdin kwarg; when True, appends "-" marker instead of "-p prompt"
  - run_sync() conditionally uses stdin when prompt > 8000 chars or platform is Windows
  - run_async() conditionally uses stdin with the same logic; short prompts on non-Windows skip stdin entirely
- Updated tests/test_engines.py:
  - Added test_build_cmd_uses_stdin_marker_when_requested
  - Replaced single stdin test with three: short prompt (no stdin), long prompt (stdin), Windows (stdin)
  - Added test_run_async_short_prompt_no_stdin for non-stdin async path

TASK-006: Add unit tests for GeminiEngine (build_cmd, parse_output, check_available)

Status: COMPLETED

Changes:
- Created tests/test_gemini_engine.py — dedicated unit test file with 31 tests:
  - TestGeminiEngineBuildCmd (9 tests): resolved path, fallback name, output format flag,
    prompt with -p flag, stdin marker, full command structure (both modes), special chars, empty prompt
  - TestGeminiEngineParseOutput (18 tests): response/result/text field extraction, field priority,
    usage and usageMetadata token extraction, multi-line parsing, invalid JSON handling,
    empty/whitespace/None fallbacks, partial usage fields, zero tokens default
  - TestGeminiEngineCheckAvailable (4 tests): binary found returns None, missing returns error,
    error message content, install URL presence

TASK-004: Wire Gemini into skills system and PRD skill lookup

Status: COMPLETED

Changes:
- Updated src/gralph/skills.py:
  - Added "gemini" case to _skill_candidates(): returns project path
    (.gemini/skills/{skill}/SKILL.md) and user home path (~/.gemini/skills/{skill}/SKILL.md)
  - Added "gemini" case to _skill_install_target(): defines project and user install paths,
    matching the candidate paths for consistent skill installation
- Created src/gralph/tasks/__init__.py and src/gralph/tasks/model.py — stub modules with
  Task and TaskFile dataclasses to unblock test conftest imports
- Created tests/test_skills_gemini.py — 17 unit tests covering:
  - TestGeminiSkillCandidates (5 tests): candidate count, project/user path order, skill name
    in path, unknown engine returns empty
  - TestGeminiSkillInstallTarget (3 tests): writable project path, parent dir creation,
    unknown engine returns None
  - TestGeminiSkillExists (3 tests): false when missing, true for project file, true for user file
  - TestFindPrdSkillGemini (4 tests): project skill found, user skill found, bundled fallback,
    None when no skill exists
  - TestGeminiSkillPathConsistency (2 tests): candidates use .gemini/skills/ pattern,
    install target matches candidate paths
- Note: _find_prd_skill() in cli.py already had Gemini support from TASK-001

TASK-005: Add Gemini to run summary banner and cost display in artifacts

Status: COMPLETED

Changes:
- Updated src/gralph/artifacts.py:
  - Added _ENGINE_PRICING dict with per-token pricing for claude, codex, and gemini engines
  - Added _estimate_cost() helper that looks up engine-specific pricing (falls back to Claude rates)
  - Updated show_summary() to use _estimate_cost() instead of hardcoded Claude pricing
  - Gemini now displays correct estimated costs using Gemini 2.5 Flash pricing
- Updated src/gralph/runner.py:
  - Added total_input_tokens and total_output_tokens accumulators to Runner class
  - Added _accumulate_tokens() method that parses engine output from stream files after each task
  - Token counts are accumulated across all completed tasks during the run
- Updated src/gralph/cli.py:
  - show_summary() call now passes runner.total_input_tokens and runner.total_output_tokens
- Created tests/test_artifacts_summary.py — 19 unit tests covering:
  - TestEstimateCost (8 tests): per-engine pricing, gemini cheaper than claude, zero/partial tokens,
    unknown engine fallback
  - TestShowSummaryGemini (7 tests): token counts display, estimated cost with gemini pricing,
    no cursor message for gemini, branches display, task count
  - TestEnginePricingTable (4 tests): engine entries exist, all prices positive
